<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UPBot AI Assistant</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #2563eb;
      --secondary-color: #3b82f6;
      --background: #f8fafc;
      --container-bg: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border-color: #e2e8f0;
      --shadow: rgba(0, 0, 0, 0.05);
      --card-bg: #ffffff;
      --input-bg: #f1f5f9;
    }

    [data-theme="dark"] {
      --background: #0f172a;
      --container-bg: #1e293b;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --border-color: #334155;
      --shadow: rgba(0, 0, 0, 0.2);
      --card-bg: #1e293b;
      --input-bg: #334155;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    }

    body {
      background-color: var(--background);
      color: var(--text-primary);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s ease;
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 1000px;
    }

    .header {
      margin-bottom: 30px;
      padding: 0 10px;
      animation: fadeInDown 0.6s ease-out;
    }

    .greeting h1 {
      font-size: 28px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 5px;
    }

    .greeting p {
      font-size: 16px;
      color: var(--text-secondary);
    }

    .quick-actions {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }

    .action-card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: 0 4px 10px var(--shadow);
      height: 100%;
      animation: fadeInUp 0.6s ease-out;
      animation-fill-mode: both;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .action-card:nth-child(1) { animation-delay: 0.1s; }
    .action-card:nth-child(2) { animation-delay: 0.2s; }
    .action-card:nth-child(3) { animation-delay: 0.3s; }
    .action-card:nth-child(4) { animation-delay: 0.4s; }
    .action-card:nth-child(5) { animation-delay: 0.5s; }
    .action-card:nth-child(6) { animation-delay: 0.6s; }

    .action-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px var(--shadow);
      border-color: var(--primary-color);
    }

    .action-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      background: rgba(37, 99, 235, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
      color: var(--primary-color);
      font-size: 20px;
      transition: transform 0.3s ease;
    }

    .action-card:hover .action-icon {
      transform: scale(1.1);
    }

    .action-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .action-desc {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .chat-container {
      background: var(--container-bg);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px var(--shadow);
      border: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      height: 65vh;
      animation: scaleIn 0.5s ease-out;
    }

    .chat-header {
      padding: 20px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--container-bg);
    }

    .chat-title {
      font-size: 18px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .chat-close {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--input-bg);
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .chat-close:hover {
      background: #ef4444;
      color: white;
      transform: rotate(90deg);
    }

    .chat-body {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
      background: var(--background);
    }

    .message {
      display: flex;
      align-items: flex-end;
      max-width: 80%;
      animation: messageAppear 0.3s ease-out;
      animation-fill-mode: both;
    }

    .message.bot {
      align-self: flex-start;
    }

    .message.user {
      align-self: flex-end;
      flex-direction: row-reverse;
    }

    .avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      margin: 0 10px;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .message:hover .avatar {
      transform: scale(1.1);
    }

    .message-content {
      padding: 12px 16px;
      border-radius: 18px;
      font-size: 15px;
      line-height: 1.4;
      box-shadow: 0 2px 5px var(--shadow);
      transition: transform 0.2s ease;
    }

    .message:hover .message-content {
      transform: scale(1.02);
    }

    .bot .message-content {
      background: var(--container-bg);
      color: var(--text-primary);
      border-bottom-left-radius: 4px;
    }

    .user .message-content {
      background: var(--primary-color);
      color: white;
      border-bottom-right-radius: 4px;
    }

    .chat-footer {
      padding: 15px 20px;
      border-top: 1px solid var(--border-color);
      background: var(--container-bg);
      display: flex;
      gap: 10px;
      position: relative;
    }

    .chat-input {
      flex: 1;
      padding: 12px 16px;
      border-radius: 20px;
      border: 1px solid var(--border-color);
      background: var(--input-bg);
      color: var(--text-primary);
      font-size: 15px;
      transition: all 0.3s ease;
    }

    .chat-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .chat-send {
      width: 46px;
      height: 46px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--primary-color);
      color: white;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .chat-send:hover {
      background: var(--secondary-color);
      transform: scale(1.05) rotate(10deg);
    }

    #suggestions {
      position: absolute;
      bottom: 65px;
      left: 20px;
      right: 20px;
      background: var(--container-bg);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      max-height: 150px;
      overflow-y: auto;
      z-index: 100;
      box-shadow: 0 5px 15px var(--shadow);
      display: none;
      animation: fadeInUp 0.2s ease-out;
    }

    #suggestions li {
      padding: 10px 15px;
      cursor: pointer;
      list-style: none;
      border-bottom: 1px solid var(--border-color);
      transition: background-color 0.2s;
    }

    #suggestions li:hover {
      background-color: var(--input-bg);
    }

    #suggestions li:last-child {
      border-bottom: none;
    }

    .typing-indicator {
      display: flex;
      padding: 12px 16px;
      align-items: center;
    }

    .typing-dots {
      display: flex;
      align-items: center;
      height: 20px;
    }

    .typing-dots span {
      height: 8px;
      width: 8px;
      background: var(--text-secondary);
      border-radius: 50%;
      display: inline-block;
      margin: 0 2px;
      opacity: 0.6;
      animation: bounce 1.3s infinite ease-in-out;
    }

    .typing-dots span:nth-child(1) {
      animation-delay: 0s;
    }

    .typing-dots span:nth-child(2) {
      animation-delay: 0.15s;
    }

    .typing-dots span:nth-child(3) {
      animation-delay: 0.3s;
    }

    @keyframes bounce {
      0%, 80%, 100% {
        transform: translateY(0);
        opacity: 0.6;
      }
      40% {
        transform: translateY(-5px);
        opacity: 1;
      }
    }

    .theme-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--primary-color);
      color: white;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
      z-index: 100;
      border: none;
      transition: all 0.3s ease;
    }

    .theme-toggle:hover {
      transform: scale(1.1) rotate(15deg);
    }

    /* Animasi kustom */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes messageAppear {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Responsive design */
    @media (max-width: 1024px) {
      .quick-actions {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .quick-actions {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .action-card {
        padding: 15px;
      }
      
      .action-icon {
        width: 40px;
        height: 40px;
        font-size: 18px;
      }
      
      .action-title {
        font-size: 15px;
      }
      
      .action-desc {
        font-size: 13px;
      }
      
      .message {
        max-width: 90%;
      }
      
      .chat-container {
        height: 70vh;
      }
      
      .greeting h1 {
        font-size: 24px;
      }
      
      .greeting p {
        font-size: 14px;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 15px;
      }
      
      .container {
        width: 100%;
      }
      
      .header {
        margin-bottom: 20px;
      }
      
      .chat-header {
        padding: 15px;
      }
      
      .chat-body {
        padding: 15px;
      }
      
      .chat-footer {
        padding: 12px 15px;
      }
      
      .message-content {
        padding: 10px 14px;
        font-size: 14px;
      }
      
      .avatar {
        width: 32px;
        height: 32px;
      }
    }

    /* Scrollbar styling */
    .chat-body::-webkit-scrollbar {
      width: 6px;
    }

    .chat-body::-webkit-scrollbar-track {
      background: transparent;
    }

    .chat-body::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    .chat-body::-webkit-scrollbar-thumb:hover {
      background: var(--primary-color);
    }

    #suggestions::-webkit-scrollbar {
      width: 6px;
    }

    #suggestions::-webkit-scrollbar-track {
      background: transparent;
    }

    #suggestions::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="greeting">
        <h1 id="greeting-text">Selamat pagi, mahasiswa</h1>
        <p>Ada yang bisa saya bantu hari ini?</p>
      </div>
    </div>

    <div class="quick-actions">
      <div class="action-card" onclick="askQuestion('Apa itu Universitas Putera Batam?')">
        <div class="action-icon">
          <i class="fas fa-university"></i>
        </div>
        <div class="action-title">Tentang Kampus</div>
        <div class="action-desc">Informasi lengkap tentang Universitas Putera Batam</div>
      </div>
      
      <div class="action-card" onclick="askQuestion('Jurusan apa saja yang ada?')">
        <div class="action-icon">
          <i class="fas fa-book"></i>
        </div>
        <div class="action-title">Info Jurusan</div>
        <div class="action-desc">Program studi yang tersedia di UPB</div>
      </div>
      
      <div class="action-card" onclick="askQuestion('Bagaimana cara daftar kuliah?')">
        <div class="action-icon">
          <i class="fas fa-edit"></i>
        </div>
        <div class="action-title">Pendaftaran</div>
        <div class="action-desc">Prosedur pendaftaran mahasiswa baru</div>
      </div>
      
      <div class="action-card" onclick="askQuestion('Berapa biaya kuliah?')">
        <div class="action-icon">
          <i class="fas fa-money-bill-wave"></i>
        </div>
        <div class="action-title">Biaya Kuliah</div>
        <div class="action-desc">Informasi biaya pendidikan di UPB</div>
      </div>
      
      <div class="action-card" onclick="askQuestion('Apakah tersedia Beasiswa?')">
        <div class="action-icon">
          <i class="fas fa-graduation-cap"></i>
        </div>
        <div class="action-title">Beasiswa</div>
        <div class="action-desc">Informasi beasiswa yang tersedia di UPB</div>
      </div>
      
      <div class="action-card" onclick="askQuestion('Bagaimana Prospek kerja setelah lulus?')">
        <div class="action-icon">
          <i class="fas fa-briefcase"></i>
        </div>
        <div class="action-title">Prospek Kerja</div>
        <div class="action-desc">Peluang karir setelah lulus dari UPB</div>
      </div>
    </div>

    <div class="chat-container" id="chatContainer">
      <div class="chat-header">
        <div class="chat-title">
          <i class="fas fa-robot"></i>
          <span>UPBot Assistant</span>
        </div>
        <div class="chat-close" onclick="closeChat()">
          <i class="fas fa-times"></i>
        </div>
      </div>
      <div class="chat-body" id="chatBody">
        <div class="message bot">
          <img src="https://imgs.search.brave.com/b79lgwBlZKV8jY_9zGLmYfMhOWa1IohzOscSbq4Q7nM/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9jZG4u/a2licmlzcGRyLm9y/Zy9kYXRhLzExOC9k/b3dubG9hZC1sb2dv/LXVuaXZlcnNpdGFz/LXB1dGVyYS1iYXRh/bS0yLmpwZw" class="avatar">
          <div class="message-content">
            Halo! Saya UPBot AI Assistant ü§ñ<br>
            Ada yang bisa saya bantu tentang Universitas Putera Batam?
          </div>
        </div>
      </div>
      <div class="chat-footer">
        <input type="text" class="chat-input" id="chatInput" placeholder="Ketik pesan..." autocomplete="off" oninput="showSuggestions()" onkeypress="if(event.key==='Enter') sendMessage()">
        <button class="chat-send" onclick="sendMessage()">
          <i class="fas fa-paper-plane"></i>
        </button>
        <ul id="suggestions"></ul>
      </div>
    </div>
  </div>

  <button class="theme-toggle" onclick="toggleTheme()">
    <i class="fas fa-moon" id="themeIcon"></i>
  </button>

  <script>
    // Database jawaban untuk quick responses (dari kode awal yang dikirim)
    const responses = {
      'Apa itu Universitas Putera Batam?': `
          üè´ <strong>Universitas Putera Batam (UPB)</strong> adalah perguruan tinggi swasta yang berlokasi di Batam, Kepulauan Riau. 
          <br><br>
          ‚ú® <strong>Keunggulan UPB:</strong><br>
          ‚Ä¢ Terakreditasi B (Baik) dari BAN-PT<br>
          ‚Ä¢ Fasilitas lengkap<br>
          ‚Ä¢ Dosen berpengalaman dan berkualitas<br>
          ‚Ä¢ Lokasi strategis di pusat kota Batam<br>
          ‚Ä¢ Kerjasama dengan industri lokal dan internasional<br>
          ‚Ä¢ Program magang dan praktek kerja yang luas
      `,
      
      'Jurusan apa saja yang ada?': `
          üìö <strong>Program Studi di Universitas Putera Batam:</strong>
          <br><br>
          üéì <strong>Fakultas Teknik:</strong><br>
          ‚Ä¢ Teknik Informatika (S1)<br>
          ‚Ä¢ Sistem Informasi (S1)<br>
          ‚Ä¢ Teknik Industri (S1)<br>
          <br>
          üíº <strong>Fakultas Ilmu Sosial dan Humaniora:</strong><br>
          ‚Ä¢ Manajemen (S1)<br>
          ‚Ä¢ Akuntansi (S1)<br>
          ‚Ä¢ Ilmu Hukum (S1)<br>
          ‚Ä¢ Ilmu Komunikasi (S1)<br>
          ‚Ä¢ Sistem Administrasi Negara (S1)<br>
          ‚Ä¢ Sastra Inggris (S1)<br>
          ‚Ä¢ Magister Manajemen (S2)
      `,
      
      'Bagaimana cara daftar kuliah?': `
          üìù <strong>Cara Pendaftaran Mahasiswa Baru UPB:</strong>
          <br><br>
          üîπ <strong>Pendaftaran Online:</strong><br>
          1. Kunjungi website resmi UPB<br>
          2. Isi formulir pendaftaran online<br>
          3. Upload dokumen yang diperlukan<br>
          4. Bayar biaya pendaftaran<br>
          <br>
          üéì <strong>Prosedur Penerimaan Mahasiswa Baru:</strong><br>
          ‚Ä¢ Prosedur Penerimaan Mahasiswa Baru untuk Program Sarjana dan Program Pasca Sarjana, untuk lebih lanjut dapat Melalui Website Resmi<br>
          <br>
          üìã <strong>Dokumen yang diperlukan:</strong><br>
          ‚Ä¢ Ijazah SMA/SMK/MA (asli & fotocopy)<br>
          ‚Ä¢ Apabila jika ijazah belum keluar maka dapat gunakan, Transkrip nilai (asli & fotocopy)<br>
          ‚Ä¢ Pas foto 3x4 (6 lembar)<br>
          ‚Ä¢ Fotocopy KTP & Kartu Keluarga<br>
          ‚Ä¢ Surat pernyataan bermaterai<br>
          <br>
          üìé <strong>Pendaftaran & Seleksi Calon Mahasiswa Baru:</strong><br>
          ‚Ä¢ Pendaftaran dapat dilakukan online melalui laman pendaftaran resmi yakni daftar.upbatam.ac.id, atau secara langsung dengan datang ke kampus Utama Tembesi<br>
          ‚Ä¢ Seleksi dilakukan melalui Tes Potensi Akademik (TPA) yang diadakan di dapat diikuti secara online maupun offline<br>
          ‚Ä¢ Calon mahasiswa mengikuti Tes Potensi Akademik (TPA) yang mencakup materi Bahasa Indonesia, Matematika, dan Bahasa Inggris.<br>
          <br>
          üìë <strong>Prosedur Registrasi Setelah Dinyatakan Lulus Seleksi:</strong><br>
          ‚Ä¢ Pengumuman kelulusan seleksi akan diumumkan melalui website resmi UPB<br>
          ‚Ä¢ Calon mahasiswa yang dinyatakan lulus wajib melakukan registrasi ulang dengan melengkapi dokumen yang diperlukan<br>
          ‚Ä¢ Pembayaran Biaya Registrasi via e-Payment setelah berkas disetujui Melalui website resmi E-Payment UPB  <a href=\"https://payment.upbatam.ac.id/" target=\"_blank\" rel=\"noopener noreferrer\">https://payment.upbatam.ac.id/</a> üåê"<br>
          ‚Ä¢ Pengambilan jaket & almamater di kampus, dengan menyerahkan berkas fisik: Ijazah, SKHU, KK, dan Surat Pernyataan<br>
          <br>

          üìû <strong>Info lebih lanjut:</strong><br>
          Instagram: <a href=\"https://www.instagram.com/univputerabatam.official/\" target=\"_blank\" rel=\"noopener noreferrer\">@universitasputerabatam</a><br>
          Facebook: <a href=\"https://www.facebook.com/univ.puterabatam\" target=\"_blank\" rel=\"noopener noreferrer\">Universitas Putera Batam</a><br>
      `,
      
      'Berapa biaya kuliah?': `
          üí∞ <strong>Informasi Biaya Kuliah UPB :</strong>
          <br><br>
          Biaya kuliah atau UKT Selama 1 semester berbeda-beda tergantung program studi yang diambil, kelas yang diambil dan lokasi kampus yang dipilih.<br>
          Selengkapnya dapat dilihat melalui Website resmi Universitas Putera Batam: 
          <a href=\"https://upbatam.ac.id/Biaya_Pendidikan\" target=\"_blank\" rel=\"noopener noreferrer\">https://upbatam.ac.id/Biaya_Pendidikan</a> üåê"
          ‚ö†Ô∏è <strong>Catatan:</strong> Biaya dapat berubah setiap tahunnya. 
          Untuk informasi biaya terbaru, dapat dilihat melalui Website resmi.
      `,
      
      'Apakah tersedia Beasiswa?': `
          üéì <strong>Tentu saja ada dong</strong>
          <br><br>
          üèÜ <strong>Beasiswa Prestasi PAKTW:</strong><br>
          ‚Ä¢ Beasiswa 100% free/gratis biaya kuliah selama 7 semester<br>
          ‚Ä¢ Berlaku untuk lulusan Tahun 2023, 2024, 2025<br>
          ‚Ä¢ Pendaftaran s.d. 15 Maret 2025<br>
          <br>
          üéñÔ∏è <strong>Beasiswa OSIS:</strong><br>
          ‚Ä¢ Diskon 50% dari biaya registrasi<br>
          ‚Ä¢ Dikhususkan bagi pengurus OSIS semasa SMA/SMK/MA<br>
          ‚Ä¢ Nilai rata-rata sekolah min. 8.0 atau GAC Grade Point Average (GPA) minimal 2.0<br>
          ‚Ä¢ Siswa/i tamatan tahun 2025 (fresh graduate)<br>
          ‚Ä¢ Lulus Tes Potensi Akademik Universitas Putera Batam atau nilai rata-rata UTBK > 450<br>
          ‚Ä¢ Surat Rekomendasi dari Sekolah<br>
          <br>
          üíº <strong>Beasiswa GERAK CEPAT Early Bird Registration:</strong><br>
          ‚Ä¢ Berlaku Untuk Pembelian Form Pendaftaran pada Periode OKTOBER 2024<br>
          ‚Ä¢ Umur < 20 tahun<br>
          ‚Ä¢ Lulus Tes Potensi Akademik Universitas Putera Batam<br>
          <br>

          <strong>Dan masih banyak lagi Beasiswa yang bisa kamu dapatkan</strong><br>

          üìå <strong>Syarat & Ketentuan:</strong><br>
         Bisa dilihat di website resmi UPB ya!
       <a href=\"https://www.upbatam.ac.id/beasiswa%7Ca87ff679a2f3e71d9181a67b7542122c\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.upbatam.ac.id/beasiswa_upb</a> üåê"
      `,
      
      'Bagaimana Prospek kerja setelah lulus?': `
      <strong>Prospek kerja setelah Lulus dari Universitas Putera Batam</strong>
      <br><br>
Setiap jurusan atau program studi di Universitas Putera Batam memiliki peluang kerja atau prospek karir yang beragam sesuai bidangnya. Berikut penjelasan singkat prospek kerja setelah lulus berdasarkan masing-masing prodi:<br><br>1. Magister Manajemen:<br>&nbsp;&nbsp;- Posisi Manajerial<br>&nbsp;&nbsp;- Dosen<br>&nbsp;&nbsp;- Konsultan Bisnis<br>&nbsp;&nbsp;- Wirausaha<br><br>2. Sistem Administrasi Negara:<br>&nbsp;&nbsp;- Instansi Pemerintahan<br>&nbsp;&nbsp;- BUMN<br>&nbsp;&nbsp;- Organisasi Non-Profit<br>&nbsp;&nbsp;- Analis Kebijakan Publik<br>&nbsp;&nbsp;- Staf Administrasi<br>&nbsp;&nbsp;- Konsultan Tata Kelola Pemerintahan<br><br>3. Sastra Inggris:<br>&nbsp;&nbsp;- Penerjemah<br>&nbsp;&nbsp;- Interpreter<br>&nbsp;&nbsp;- Pengajar Bahasa Inggris<br>&nbsp;&nbsp;- Penulis<br>&nbsp;&nbsp;- Editor<br>&nbsp;&nbsp;- Staf perusahaan multinasional<br>&nbsp;&nbsp;- Pariwisata dan Perhotelan<br><br>4. Ilmu Komunikasi:<br>&nbsp;&nbsp;- Public Relations<br>&nbsp;&nbsp;- Jurnalis<br>&nbsp;&nbsp;- Penyiar<br>&nbsp;&nbsp;- Content Creator<br>&nbsp;&nbsp;- Media Planner<br>&nbsp;&nbsp;- Periklanan<br>&nbsp;&nbsp;- Komunikasi Perusahaan<br><br>5. Akuntansi:<br>&nbsp;&nbsp;- Akuntan Publik<br>&nbsp;&nbsp;- Auditor<br>&nbsp;&nbsp;- Konsultan Pajak<br>&nbsp;&nbsp;- Analis Keuangan<br>&nbsp;&nbsp;- Staf Keuangan Perusahaan<br>&nbsp;&nbsp;- Instansi Pemerintah<br><br>6. Manajemen:<br>&nbsp;&nbsp;- Perbankan<br>&nbsp;&nbsp;- Keuangan<br>&nbsp;&nbsp;- Pemasaran<br>&nbsp;&nbsp;- Sumber Daya Manusia<br>&nbsp;&nbsp;- Konsultan Bisnis<br>&nbsp;&nbsp;- Entrepreneur<br><br>7. Ilmu Hukum:<br>&nbsp;&nbsp;- Advokat<br>&nbsp;&nbsp;- Notaris<br>&nbsp;&nbsp;- Jaksa<br>&nbsp;&nbsp;- Hakim<br>&nbsp;&nbsp;- Staf legal perusahaan<br>&nbsp;&nbsp;- Konsultan hukum<br>&nbsp;&nbsp;- Lembaga pemerintahan dan swasta<br><br>8. Teknik Industri:<br>&nbsp;&nbsp;- Manufaktur<br>&nbsp;&nbsp;- Quality Control<br>&nbsp;&nbsp;- Supply Chain Management<br>&nbsp;&nbsp;- Perencanaan Produksi<br>&nbsp;&nbsp;- Konsultan Industri<br>&nbsp;&nbsp;- Wirausaha<br><br>9. Sistem Informasi:<br>&nbsp;&nbsp;- Business Analyst<br>&nbsp;&nbsp;- System Analyst<br>&nbsp;&nbsp;- Database Administrator<br>&nbsp;&nbsp;- IT Consultant<br>&nbsp;&nbsp;- Project Manager<br>&nbsp;&nbsp;- Pengembangan sistem informasi di perusahaan<br><br>10. Teknik Informatika:<br>&nbsp;&nbsp;- Software Developer<br>&nbsp;&nbsp;- Web Developer<br>&nbsp;&nbsp;- Data Analyst<br>&nbsp;&nbsp;- IT Support<br>&nbsp;&nbsp;- Network Engineer<br>&nbsp;&nbsp;- Artificial Intelligence<br>&nbsp;&nbsp;- Cyber Security<br><br>
      `,
      
      'default': `
        Maaf, saya belum memahami pertanyaan Anda. Silakan tanyakan hal lain tentang Universitas Putera Batam.
        <br><br>
        Anda bisa menanyakan tentang:<br>
        ‚Ä¢ Informasi kampus<br>
        ‚Ä¢ Program studi<br>
        ‚Ä¢ Pendaftaran mahasiswa<br>
        ‚Ä¢ Biaya kuliah<br>
        ‚Ä¢ Beasiswa<br>
        ‚Ä¢ Prospek kerja lulusan
      `
    };

    // Variabel global untuk data kampus
    let kampusData = [];

    // Load data keyword kampus dari file JSON saat halaman dimuat
    fetch('kampus_keywords.json')
      .then(response => response.json())
      .then(data => { 
        kampusData = data; 
        console.log('Data kampus loaded:', kampusData);
      })
      .catch(error => {
        console.log('File kampus_keywords.json tidak ditemukan, menggunakan fallback keywords');
        // Fallback jika file JSON tidak ada
        kampusData = [];
      });

    // Daftar stopword sederhana Bahasa Indonesia
    const stopwords = [
      "yang", "dan", "di", "ke", "dari", "untuk", "apa", "itu", "ada", "pada", "dengan", "atau", "saja", "bagaimana", "tentang", "apakah", "adalah", "ini", "itu", "sebutkan", "wah", "kalau", "lantas"
    ];

    // Fungsi stemming sederhana (menghapus imbuhan awalan/akhiran umum)
    function stem(word) {
      // Hapus awalan umum
      word = word.replace(/^(meng|meny|mem|men|me|ber|ter|se|di|ke|pe|per)/, "");
      // Hapus akhiran umum
      word = word.replace(/(kan|an|i|nya|lah|ku|mu|pun)$/,"");
      return word;
    }

    // Normalisasi kalimat: lowercase, hapus stopword, stemming
    function normalize(text) {
      return text
        .toLowerCase()
        .replace(/[^a-z0-9\s]/g, "") // hapus karakter non-alfanumerik
        .split(/\s+/)
        .filter(word => word && !stopwords.includes(word))
        .map(stem)
        .join(" ");
    }

    function cariJawabanKampus(input) {
      const normInput = normalize(input);
      
      // 1. Cek dulu apakah ini adalah pertanyaan dari quick response
      for (let question in responses) {
        if (input.toLowerCase().includes(question.toLowerCase()) || question.toLowerCase().includes(input.toLowerCase())) {
          return responses[question];
        }
      }
      
      // 2. Cari di kampusData dari JSON (untuk auto-suggestion keywords)
      for (let item of kampusData) {
        for (let keyword of item.keywords) {
          const normKeyword = normalize(keyword);
          if (normInput === normKeyword) {
            return item.response;
          }
        }
      }
      
      // 3. Fallback: substring match di kampusData
      for (let item of kampusData) {
        for (let keyword of item.keywords) {
          const normKeyword = normalize(keyword);
          if (normInput.includes(normKeyword) || normKeyword.includes(normInput)) {
            return item.response;
          }
        }
      }
      
      return null;
    }

    // Set greeting based on time of day
    function setGreeting() {
      const hour = new Date().getHours();
      const greetingElement = document.getElementById('greeting-text');
      
      if (hour < 12) {
        greetingElement.textContent = 'Selamat Pagi, Mahasiswa';
      } else if (hour < 15) {
        greetingElement.textContent = 'Selamat Siang, Mahasiswa';
      } else if (hour < 19) {
        greetingElement.textContent = 'Selamat Sore, Mahasiswa';
      } else {
        greetingElement.textContent = 'Selamat Malam, Mahasiswa';
      }
    }

    function askQuestion(question) {
      // Buka chat container jika belum terbuka
      document.getElementById('chatContainer').style.display = 'flex';
      
      // Tampilkan pertanyaan user
      addMessage(question, 'user');
      
      // Tampilkan indikator mengetik
      const typingIndicator = document.createElement('div');
      typingIndicator.className = 'message bot';
      typingIndicator.id = 'typing-indicator';
      typingIndicator.innerHTML = `
        <img src="https://imgs.search.brave.com/b79lgwBlZKV8jY_9zGLmYfMhOWa1IohzOscSbq4Q7nM/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9jZG4u/a2licmlzcGRyLm9y/Zy9kYXTa/2ExOC9k/b3dubG9aZC1sb2dv/LXVuaXZlcnNpdGFz/LXB1dGVyYS1iYXRh/bS0yLmpwZw" class="avatar">
        <div class="message-content typing-indicator">
          <div class="typing-dots">
            <span></span>
            <span></span>
            <span></span>
          </div>
          UPBot sedang mengetik...
        </div>
      `;
      document.getElementById('chatBody').appendChild(typingIndicator);
      document.getElementById('chatBody').scrollTop = document.getElementById('chatBody').scrollHeight;
      
      // Cari jawaban
      let answer = cariJawabanKampus(question) || responses['default'];
      
      // Tampilkan jawaban setelah delay
      setTimeout(() => {
        const typingDiv = document.getElementById('typing-indicator');
        if (typingDiv) typingDiv.remove();
        
        addMessage(answer, 'bot');
      }, 1500 + Math.random() * 1000);
    }

    function addMessage(content, sender) {
      const chatBody = document.getElementById('chatBody');
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${sender}`;
      
      if (sender === 'bot') {
        messageDiv.innerHTML = `
          <img src="https://imgs.search.brave.com/b79lgwBlZKV8jY_9zGLmYfMhOWa1IohzOscSbq4Q7nM/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9jZG4u/a2licmlzcGRyLm9y/Zy9kYXRhLzExOC9k/b3dubG9hZC1sb2dv/LXVuaXZlcnNpdGFz/LXB1dGVyYS1iYXRh/bS0yLmpwZw" class="avatar">
          <div class="message-content">${content}</div>
        `;
      } else {
        messageDiv.innerHTML = `
          <img src="https://cdn-icons-png.flaticon.com/512/1077/1077012.png" class="avatar">
          <div class="message-content">${content}</div>
        `;
      }
      
      chatBody.appendChild(messageDiv);
      chatBody.scrollTop = chatBody.scrollHeight;
      
      // Tambahkan animasi untuk pesan baru
      setTimeout(() => {
        messageDiv.style.animation = 'messageAppear 0.3s ease-out';
      }, 10);
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (message) {
        askQuestion(message);
        input.value = '';
        document.getElementById('suggestions').style.display = 'none';
      }
    }

    // Ambil semua keyword unik dari kampusData
    function getAllKeywords() {
      let all = [];
      for (let item of kampusData) {
        all = all.concat(item.keywords);
      }
      // Tambahkan pertanyaan dari responses
      for (let question in responses) {
        if (question !== 'default') {
          all.push(question);
        }
      }
      // Hilangkan duplikat
      return [...new Set(all)];
    }

    // Tampilkan saran/autocomplete
    function showSuggestions() {
      let input = document.getElementById('chatInput').value.toLowerCase();
      let suggestions = document.getElementById('suggestions');
      
      if (!input) {
        suggestions.style.display = 'none';
        suggestions.innerHTML = '';
        return;
      }
      
      let keywords = getAllKeywords();
      let filtered = keywords.filter(k => k.toLowerCase().includes(input));
      
      if (filtered.length === 0) {
        suggestions.style.display = 'none';
        suggestions.innerHTML = '';
        return;
      }
      
      suggestions.innerHTML = filtered.map(k => 
        `<li onclick="selectSuggestion('${k.replace(/'/g, "\\'")}')">${k}</li>`
      ).join('');
      
      suggestions.style.display = 'block';
    }

    // Ketika user klik saran
    function selectSuggestion(text) {
      document.getElementById('chatInput').value = text;
      document.getElementById('suggestions').style.display = 'none';
      sendMessage();
    }

    function closeChat() {
      document.getElementById('chatContainer').style.display = 'none';
    }

    function toggleTheme() {
      const body = document.body;
      const themeIcon = document.getElementById('themeIcon');
      
      if (body.getAttribute('data-theme') === 'dark') {
        body.removeAttribute('data-theme');
        themeIcon.className = 'fas fa-moon';
        localStorage.setItem('theme', 'light');
      } else {
        body.setAttribute('data-theme', 'dark');
        themeIcon.className = 'fas fa-sun';
        localStorage.setItem('theme', 'dark');
      }
    }

    // Event listener untuk menutup saran ketika klik di luar
    document.addEventListener('click', function(e) {
      if (!e.target.closest('#suggestions') && !e.target.closest('#chatInput')) {
        document.getElementById('suggestions').style.display = 'none';
      }
    });

    // Inisialisasi saat halaman dimuat
    document.addEventListener('DOMContentLoaded', function() {
      // Set greeting berdasarkan waktu
      setGreeting();
      
      // Load tema yang disimpan
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        document.getElementById('themeIcon').className = 'fas fa-sun';
      }
      
      // Buka chat container secara default
      document.getElementById('chatContainer').style.display = 'flex';
      
      // Animasikan kartu aksi cepat
      const actionCards = document.querySelectorAll('.action-card');
      actionCards.forEach((card, index) => {
        card.style.animationDelay = `${0.1 + index * 0.1}s`;
      });
    });
  </script>
</body>
</html>
